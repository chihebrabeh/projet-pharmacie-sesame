"use strict";var _createClass=function(){function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var PapiClient=function(){function n(e,t){_classCallCheck(this,n),this._host=e,this._token=t}return _createClass(n,[{key:"contactPostMessage",value:function(e,t){this._sendRequest("/contacts",e,t)}},{key:"_sendRequest",value:function(e,t,s){var n=new FormData;for(var a in n.append("token",this._token),t)n.append(a,t[a]);var r=new XMLHttpRequest;return r.onreadystatechange=function(e){var t,n;this.readyState===XMLHttpRequest.DONE&&(console.log("XMLHttpRequest",this.status),200===this.status?(t=JSON.parse(this.responseText),s(null,t.result)):422===this.status?(n=JSON.parse(this.responseText),s(n,null)):s({name:"Error",message:"Une erreur est survenue, nous travaillons Ã  sa correction."},null))},r.open("POST",this._host+e,!0),r.setRequestHeader("Accept","application/json"),r.send(n),r}}]),n}();